<!DOCTYPE html>
<html>
    <head>
        <title>JavaScript Sorting Arrays</title>
    </head>
    <body>
        <h1>JavaScript Sorting Arrays</h1>
        <h2>Numeric Sort</h2>
        <p>By default, the <span style="color: red;background-color: aliceblue;">sort() </span>function sorts values as <b>strings</b>.</p>
        <p>This works well for strings ("Apple" comes before "Banana").</p>
        <p>However, if numbers are sorted as strings, "25" is bigger than "100", because "2" is bigger than "1".</p>
        <p>Because of this, the sort() method will produce incorrect result when sorting numbers.</p>
        <p>You can fix this by providing a compare function:</p>
         
        <p id="demo"></p>
        <p id="demo1"></p>

        <script>
            const points = [57, 3, 12, 100, 24, 90, 45];
            document.getElementById("demo").innerHTML = points;
            points.sort(function(a, b){return a - b});
            document.getElementById("demo1").innerHTML = points;
        </script>

        <hr>

        <p>Use the same trick to sort an array descending:</p>

        <p id="demo2"></p>
        <p id="demo3"></p>

        <script>
             const Points = [57, 3, 12, 100, 24, 90, 45];
            document.getElementById("demo2").innerHTML = Points;
            Points.sort(function(a, b){return b - a});
            document.getElementById("demo3").innerHTML = Points;
        </script>

        <h2>The Compare Function</h2>
        <p>The purpose of the compare function is to define an alternative sort order.</p>
        <p>The compare function should return a negative, zero, or positive value, depending on the arguments:</p>
        <p>function(a, b){return a - b}</p>
        <p>When the sort() function compares two values, it sends the values to the compare function, and sorts the values according to the returned (negative, zero, positive) value.</p>
        <p>If the result is negative, a is sorted before b.</p>
        <p>If the result is positive, b is sorted before a</p>
        <p>If the result is 0, no changes are done with the sort order of the two values.</p>
        <h3>Example:</h3>
        <p>The compare function compares all the values in the array, two values at a time (a, b).</p>
        <p>When comparing 40 and 100, the sort() method calls the compare function(40, 100).</p>
        <p>The function calculates 40 - 100 (a - b), and since the result is negative (-60),  the sort function will sort 40 as a value lower than 100.</p>
        <p>You can use this code snippet to experiment with numerically and alphabetically sorting:</p>

        <h2>The sort() Method</h2>
        <p>Click the buttons to sort the array alphabetically or numerically.</p>

        <button onclick="myFunction1()">Sort Alphabetically</button>
        <button onclick="myFunction2()">Sort Numerically</button>

        <p id="demo4"></p>
        <script>
            const points1 = [80, 100, 50, 2, 6, 1, 30];
            document.getElementById("demo4").innerHTML = points1;
            
            function myFunction1() {
                points1.sort();
                document.getElementById("demo4").innerHTML = points1;
            }

            function myFunction2() {
                points1.sort(function(a,b){return a - b});
                document.getElementById("demo4").innerHTML = points1;
            }
        </script>

        <hr>

        <h2>Sorting an Array in Random Order</h2>
        <p>Click the button (again and again) to sort the array in random order.</p>

        <button onclick="myFunction3()">Try it</button>
        <p id="demo5"></p>

        <script>
            const points2 = [30, 86, 100, 46, 12, 4, 6,  80];
            document.getElementById("demo5").innerHTML =  points2;
            function myFunction3(){
                points2.sort(function(){return 0.5 - Math.random()});
                document.getElementById("demo5").innerHTML = points2;
            }       
        </script>

        <hr>

        <h2>The Fisher Yates Method</h2>
        <p>The above example, array.sort(), is not accurate. It will favor some numbers over the others.</p>
        <p>The most popular correct method, is called the Fisher Yates shuffle, and was introduced in data science as early as 1938!</p>
        <p>In JavaScript the method can be translated to this:</p>
        <p>Click the button (again and again) to sort the array in random order.</p>

        <button onclick="myFunction4()">Try it</button>
        <p id="demo6"></p>
        <script>
            const points3 = [30, 86, 100, 46, 12, 4, 6,  80];
            document.getElementById("demo6").innerHTML = points3;
            function myFunction4(){
                for (let i = points3.length -1; i > 0; i--) {
                    let j = Math.floor(Math.random() * (i+1));
                    let k = points3[i];
                    points3[i] = points3[j];
                    points3[j] = k;
                }
                document.getElementById("demo6").innerHTML = points3;
            }
        </script>

    </body>
</html>