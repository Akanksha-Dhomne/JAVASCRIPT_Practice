<!DOCTYPE html>
<html>
  <head>
    <title>JavaScript Sorting Arrays</title>
  </head>
  <body>
    <h1>Stable Array sort()</h1>
    <p>
      ES2019 revised the Array
      <span style="color: red; background-color: aliceblue">sort() </span
      >method.
    </p>
    <p>
      Before 2019, the specification allowed unstable sorting algorithms such as
      QuickSort.
    </p>
    <p>After ES2019, browsers must use a stable sorting algorithm:</p>
    <p>
      When sorting elements on a value, the elements must keep their relative
      position to other elements with the same value.
    </p>

    <p id="demo"></p>

    <script>
      const myArray = [
        { name: "X00", price: 100 },
        { name: "X01", price: 100 },
        { name: "X02", price: 100 },
        { name: "X04", price: 110 },
        { name: "X05", price: 110 },
        { name: "X06", price: 110 },
        { name: "X07", price: 110 },
        { name: "X08", price: 120 },
        { name: "X09", price: 120 },
        { name: "X10", price: 120 },
        { name: "X11", price: 120 },
        { name: "X12", price: 130 },
        { name: "X13", price: 130 },
        { name: "X14", price: 130 },
        { name: "X15", price: 130 },
        { name: "X16", price: 140 },
        { name: "X17", price: 140 },
        { name: "X18", price: 140 },
        { name: "X19", price: 140 },
        { name: "X20", price: 150 },
        { name: "X21", price: 150 },
        { name: "X22", price: 150 },
      ];

      myArray.sort((p1, p2) => {
        if (p1.price < p2.price) return -1;
        if (p1.price > p2.price) return 1;
        return 0;
      });

      let txt = "";
      myArray.forEach(myFunction);

      function myFunction(value) {
        txt += value.name + " " + value.price + "<br>";
      }
      document.getElementById("demo").innerHTML = txt;
    </script>

  </body>
</html>
